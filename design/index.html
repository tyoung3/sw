<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://sw.twyoung.com/design/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Design Guidelines - StreamWork</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Design Guidelines";
    var mkdocs_page_input_path = "design.md";
    var mkdocs_page_url = "/design/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> StreamWork</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../rdm/">Readme</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">User Guide</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../components/">Components</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../components/sw/">SwBase</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../components/swutility/">Swutility</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../components/os/">Os</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../components/config/">Config</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../components/fileio/">Fileio</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../SWL.pdf">SW Language Labeled BNF(pdf)</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developer Guide</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Design Guidelines</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#go-design-guidelines">GO Design Guidelines</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#streamwork-features">StreamWork Features</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../PROJECT/">Project Generation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../mkdocs/">Mkdocs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../github/">Github Project</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../DOCKER/">Docker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../APIs/">API Comments</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../FBP/">FBP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../SECURITY/">Security</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">StreamWork</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Developer Guide &raquo;</li>
        
      
    
    <li>Design Guidelines</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="streamwork-design-guidelines">StreamWork Design Guidelines</h1>
<h2 id="go-design-guidelines">GO Design Guidelines</h2>
<pre><code>* Begin component with defer _wg.Done(). 
* defer Close(CHANNEL) for all output channels.
* Do not close input channels.
</code></pre>
<ul>
<li>Separate concerns<ul>
<li>GUI, business logic, DB,  etc. should not be intermixed. </li>
<li>Try to make the business logic clear to the business experts and easily modifiable.<br />
  Use decision tables, graphs, etc.</li>
</ul>
</li>
<li>Use the GO init() function.  The init() function in all
    processes will execute, in parallel, prior to any main function.
    For instance, one process could set the DEBUG variable on within 
    its init() function, causing
    all processes to continue in DEBUG mode.      </li>
<li>
<p>Simple interfaces</p>
<ul>
<li>Avoid global variables.  Ensure components are re-entrant.  </li>
<li>Limit each channel to one type of data.  Pass a structure, 
  instead of multiple data elements.<br />
  Pass structures or handles, rather than pointers.<br />
  A data tree can be passed in abstract syntax form, then
  reconstructed on receipt. </li>
<li>Strive for less than four channels per component, 
  splitting into multiple components if necessary. <br />
  Exception:  same IP type on multiple channels, as in merging.    </li>
<li>Don't over simplify and create too many fine-grained processes.</li>
<li>Use simple URI rules <a href="https://dzone.com/articles/7-rules-for-rest-api-uri-design-1">URI Rules</a></li>
<li>Don't buffer unnecessarily.   Zero-length buffers are a bit more secure and minimize latency.<br />
 In come cases, particularly in cyclic networks, however, non-zero buffers may be 
 necessary to prevent deadlock.  Non-zero buffers may also speed processing sometimes. 
 Note that Go uses ring buffers, implying that IPs can be received even when the buffer 
 is not full.  Buffers can be useful when input arrives erratically.  </li>
</ul>
</li>
<li>
<p>Security and synchronization</p>
<ul>
<li>Always defer synchronizing waits to help prevent deadlock 
  and zombies.</li>
<li>Avoid threats  (see <a href="https://blog.sqreen.com/top-6-security-best-practices-for-go/">Go security practices</a> )</li>
<li>Validate input entries</li>
<li>Use HTML templates to help avoid cross site script(CSS) attacks</li>
<li>Prevent SQL injections</li>
<li>Encrypt sensitive data</li>
<li>Use HTTPS, not http</li>
<li>Use logs and error messages carefully, being sure to avoid leaking sensitive data. (5,000 secrets/day are leaked to GitHub, it has been claimed.)</li>
<li>Document at the component, subnet, and package levels.   </li>
<li>Test at the component and package levels. </li>
</ul>
</li>
</ul>
<h2 id="streamwork-features">StreamWork Features</h2>
<p>StreamWork: </p>
<ul>
<li>does not complicate debugging with subnet logic.  Subnets are purely
    design aids.</li>
<li>does not process or examine IPs; it merely creates a channel for every stream, assigning the channels to the sending and receiving components;</li>
<li>has a number of rules for automatically connecting ports according to their names and modes(sink or source)<ul>
<li>Matches (upper and lower case port names) 'OUT' to 'IN'; 
   'TAB' to 'SLOT'; and 'PLUG' to 'SOCKET'.  </li>
<li>Also matches output ports to input ports with the same name.     </li>
</ul>
</li>
<li>implements a text based, context free, program language agnostic, network definition language, SWL;</li>
<li>produces pure Go code with no dependencies other than those required by the components themselves; 
   (The generated code, should run on any platform Go supports. Non-standard components may contain OS dependent code, however.)  </li>
<li>Component behavior can be controlled via arguments, environment
variables, in-stream commands, ordinary IPs, and signals. </li>
<li>Each process runs as an independent Go routine.  Components are free
    to launch and synchonize Go routines of their own. </li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../PROJECT/" class="btn btn-neutral float-right" title="Project Generation">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../SWL.pdf" class="btn btn-neutral" title="SW Language Labeled BNF(pdf)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2021, 2022, Tom Young, streamwork@twyoung.com.</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../SWL.pdf" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../PROJECT/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
